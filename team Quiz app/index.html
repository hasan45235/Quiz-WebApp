
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Quiz app</title>
    <link rel="icon" href="./favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="./style/index.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <main>
      <div class="form">
        <form action="" onsubmit="valid(event)">
          <h3>Log In</h3>
          <hr>
          <label for="username">Username</label><br>
          <input type="text" autocomplete="off" name="username" id="username" placeholder="Enter your name" oninput="validname(event)"><br>
          <span id="userspan"></span><br>
          <label for="rollno">Roll No.</label><br>
          <input type="text" autocomplete="off" name="rollno" id="rollno" placeholder="Enter your Roll-no" maxlength="4"><br>
          <span id="ID-span"></span><br>
          <label for="class">Class</label><br>
          <input type="text" autocomplete="off" name="class" placeholder="Enter your class" id="class" ><br>
          <span id="rollnospan"></span><br><br>
          <input type="submit" class="submit" value="Submit">
        </form>
      </div>
      <div id="hide">
        <img src="./logo-OpazD70S.png" alt="logo" class="img-fluid" /><br>
        <h1>Welcome to SMIT Quiz App</h1>
        <a href="./quiz.html" class="start-btn">Start Quiz</a>
      </div>
    </main>
  </body>
    <script>
    // src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    // integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    // crossorigin="anonymous"
    
    var userdata = []
    var hide = document.getElementById("hide")
    hide.style.display = "none"
    var username = document.getElementById("username")
    var userSpan = document.getElementById("userspan")
    var grade = document.getElementById("class")
    var rollNo = document.getElementById("rollno")

    function valid(e){
      e.preventDefault()
  
      if(username.value == "" || grade.value == "" || rollNo.value == "" )return alert("Fill all the fields!")
      for (let i = 0; i < userdata.length; i++) {
    
      if(rollno.value == userdata[i].rollNo){
        if(username.value != userdata[i].username){
          alert("Enter correct username or roll-No")
        }
        return
      }
      }
      // checkData();
      userdata2 = {
        username :username.value ,
        grade: grade.value ,
        rollNo: rollNo.value}
      localStorage.setItem(`User ${rollNo.value }`,JSON.stringify(userdata2))
      userdata = [...userdata,{
        username :username.value ,
        grade: grade.value ,
        rollNo: rollNo.value}]
      console.log(userdata)
      username.value = ""
      grade.value = ""
      rollNo.value = ""
      e.target.parentElement.style.display = "none"
      hide.style.display = "block"

    }

    function validname(e){
    
      if(username.value.length < 3 && username.value.length != 0){ 
        userSpan.innerText = "Username must contain more than 3 Char"
        username.setAttribute("class","red")
      }else if(username.value.length == 0){
        userSpan.innerText = ""
        username.setAttribute("class","black")
      }else{
        userSpan.innerText = ""
        username.setAttribute("class","black")
      }
    
    }
    
    
    </script>
</html>
